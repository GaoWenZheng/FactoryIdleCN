template={
    intro: '<div id="introBg"></div>\r\n<div id="intro">\r\n\r\n    <b class="title">工厂放置</b><br/>\r\n    <br/>\r\n    欢迎来到<b style="color:greenyellow">工厂放置</b>的疯狂世界!\r\n    你的目标是建造一座拥有许多<b style="color:greenyellow">生产链</b>的<b style="color:greenyellow">自动化工厂</b>.\r\n    你一开始只拥有简单的流水线,但最后你可以拥有<b style="color:rgb(150,181,134)">高质量军事技术</b>,比如坦克和火箭!真的,高质量!<br/>\r\n    <br/>\r\n    可是通往复杂产品的道路<u style="color:red">不是一项容易的任务</u>,所以要注意!前方会有巨大的挑战等着你!\r\n    查看<b style="color:yellow">帮助部分</b>是个不错的主意.<br/>\r\n    <br/>\r\n    <b>免责声明</b>:本游戏<b style="color:red; text-decoration:underline">要难于普通的</b>放置游戏并且需要开动你的<u style="color:orange">大脑</u>.如果你有不止一个,把它们全部打开!过热警告!<br/>\r\n    <br/>\r\n    <a href="javascript:void(0);" class="closeButton" style="color:white; font-weight:bold; float:right; display:block">好的,明白了,我不会起诉任何人!</a>\r\n    <br style="clear:both;"/>\r\n    <span style="color:darkgray; font-size:0.9em">(除了工厂的工人,总是因为他们搞砸了你的传送带而起诉他们!)</span>\r\n\r\n</div>',
    runningInBackgroundInfoUi:'<div class="runningInBackgroundInfoUiBg" id="runningInBackgroundInfoUi"></div>\r\n<div class="runningInBackgroundInfoUi">\r\n    <b>背景模式激活</b><br/>\r\n    <br/>\r\n    别担心,游戏运行于<b class="green">普通速度</b>,使用极少的CPU(功耗),取消更新\r\n    图形元素.<br/>\r\n    <br/>\r\n    <span class="green">只要聚焦(点击)游戏就能取消激活</span>\r\n</div>',
    missions:'<div id="missionSelection" class="missionSelection">\r\n    <span class="backButton" id="backToReactor">Back to factories</span>\r\n\r\n    <div class="headerXX">\r\n        These are very challenging missions.\r\n    </div>\r\n\r\n    {{#each missions}}\r\n    <div class="missionButton" data-id="{{id}}">\r\n        <div class="name">\r\n            {{name}}\r\n        </div>\r\n    </div>\r\n    {{/each}}\r\n</div>',
    timeTravel:'<div id="timeTravelBg"></div>\r\n<div id="timeTravel">\r\n    <a href="javascript:void(0);" class="closeButton" style="float:right; display:block;">关闭</a>\r\n\r\n    <b>时间旅行</b><br/>\r\n    <br/>\r\n    在时空中快速旅行,更快地建立你的帝国.<br/>\r\n    每个滴答券将会给予你<b>3个小时</b>收益和研究点数.<br/>\r\n    <br/>\r\n    你拥有<b class="tickets">{{tickets}}</b>滴答券来进行时间旅行!<br/>\r\n    <a href="javascript:void(0);" class="getMore">获得更多滴答券</a><br style="clear:both"/>\r\n    <br/>\r\n\r\n    如果你现在旅行将会越过<b>{{ticks}}</b>滴答并获得:<br/>\r\n    <span class="money"><b>${{profit}}</b>  (<b>${{profitPerTick}}</b>每滴答)</span><br/>\r\n    <span class="research"><b>{{researchPoints}}</b>研究点数(<b>{{researchPointsPerTick}}</b>每滴答)</span><br/>\r\n    <span class="comment">\r\n        这是所有工厂平均收入的总和.<br/>\r\n        等到你的工厂恢复平衡后使用才是明智的<a href="javascript:void(0)" class="refresh">刷新</a>\r\n    </span><br/>\r\n    {{#if hasTickets}}\r\n    <br/>\r\n    <a href="javascript:void(0);" class="travel">使用1滴答券穿梭到未来!</a><br style="clear:both"/>\r\n    {{else}}\r\n    <br/>\r\n    不幸的是,你没有滴答券...\r\n    {{/if}}\r\n\r\n</div>',
    loading:'<div class="loadingBg" id="{{idBg}}"></div>\r\n<div class="loading" id="{{id}}">\r\n    <center>\r\n    <img src="img/loader.gif" class="icon"/><br />\r\n    <span class="message">{{{title}}}</span>\r\n    </center>\r\n</div>',
    settings:'<div id="settingsBg"></div>\r\n<div id="settings">\r\n    <a href="javascript:void(0);" class="closeButton" style="float:right; display:block;">关闭</a>\r\n\r\n    <b class="title">用户密钥</b><br/>\r\n    这是您独有的用户密钥.妥善保管,建立备份!<br/>\r\n    如果密钥丢失了,就没有办法恢复你的游戏了!<br/>\r\n    <input type="text" class="userHash" id="userHash" value="{{userHash}}" name="userHash" readonly="readonly"/>\r\n    <a href="javascript:void(0)" id="copyToClipboardButton">点击这里复制到剪贴板</a>或选择用户ID并\r\n    按CTRL+C(windows)或CMD+C(mac)进行复制.\r\n    <br/>\r\n    <br/>\r\n    <b class="title">保存</b><br/>\r\n    如果你想要尝试或可能需要将游戏恢复到之前的状态,请使用手动保存.游戏\r\n    <b>自动保存</b>到你的电脑每{{localSaveInterval}}以及到云端每{{cloudSaveInterval}}.<br/>\r\n    {{#each saveSlots}}\r\n    <div class="saveSlot">\r\n        <b>{{name}}</b><br/>\r\n        <input type="button" class="saveToSlot" data-id="{{id}}" value="保存"/><br/>\r\n        <br/>\r\n        {{#if hasSave}}\r\n        {{lastSave}}<br/>\r\n        滴答: <b>{{ticks}}</b><br/>\r\n        <input type="button" class="loadSlot" data-id="{{id}}" value="载入"/>\r\n        {{else}}\r\n        这个存档<br/>还没有数据\r\n        <br/>\r\n        {{/if}}\r\n    </div>\r\n    {{/each}}\r\n    <br style="clear:both"/>\r\n    {{#if devMode}}\r\n    <b class="title">从文件载入</b><br/>\r\n    <input type="text" id="loadData"/><input type="button" id="loadDataButton" value="载入文件">\r\n    <br style="clear:both"/>\r\n    {{/if}}\r\n    <br/>\r\n    <b class="title">切换用户密匙</b><br/>\r\n    如果您已拥有用户密钥,请将其复制到这里并点击更新. <br/>\r\n    这将使用新的账户重新加载页面. <br/>\r\n    <br/>\r\n    <input type="text" class="updateUserHash" id="updateUserHash" value="" name="updateUserHash"/>\r\n    <input type="button" name="updateUserHashButton" id="updateUserHashButton" value="更新"/>\r\n    <br/>\r\n    <br/>\r\n    <b class="title">重置</b><br/>\r\n    <b class="red">重置游戏</b> 你需要注意! <br/>\r\n    请注意:<br/>\r\n    * 手动保存不会被删除,可以用来恢复游戏<br/>\r\n    * 如果你已经购买了物品,你可以保留像加速滴答这样的解锁项,但是会失去一些消耗性的物品,比如滴答奖励<br/>\r\n    <br/>\r\n    <input type="button" name="resetGame" id="resetGame" value="重置整个游戏 - 你会失去所有进度!"/>\r\n\r\n    <div style="float:right">版本号 1.07</div>\r\n    <br/>\r\n</div>',
    purchases:'<div id="purchasesBg"></div>\r\n<div id="purchases">\r\n    <a href="javascript:void(0);" class="closeButton" style="float:right; display:block;">关闭</a>\r\n\r\n    <b>额外</b><br/><br/>\r\n\r\n    我真的很喜欢制作游戏,并且在很长一段时间内,我都是在业余时间制作游戏的.(查看我的游戏)<br/>\r\n\r\n    但是制作游戏是非常耗时的(我有两个年幼的孩子,在一家初创公司有一份全职工作.如果你能\r\n    理解的话,想象一下 :p),\r\n    我非常感谢任何支持 - 它可以是想法,评论,批评或金钱!<br/>\r\n\r\n    关于这个游戏,我有很好的想法,如果你喜欢这个游戏,我希望你展示你的\r\n    支持通过 a\r\n    购买.我并不期望这些游戏能够给我带来薪水,但我希望至少能够对得起我制作它们所投入的时间.\r\n    :)<br/>\r\n    我真的不喜欢现在的游戏使用的赚钱策略 - 每个疯狂的行为都要付钱,所以我肯定\r\n    不会这么做.<br/>\r\n    <br/>\r\n    {{#if mainSiteVersion}}\r\n    <b>任何购买将删除广告和拉伸游戏使用全屏幕.(只限于在factoryidle.com玩时)</b><br/>\r\n    {{/if}}\r\n    <br style="clear:both"/>\r\n\r\n\r\n    <div class="specials">\r\n        {{#each specials}}\r\n        <div class="item {{#if isBought}}boughtItem{{/if}}" data-id="{{id}}">\r\n            <div class="name">{{name}}</div>\r\n            <div class="description">{{{description}}}</div>\r\n            <div class="buy">\r\n                {{#if isBought}}\r\n                <span class="bought">已购买</span>\r\n                {{else}}\r\n                <a href="javascript:void(0);" data-purchaseId="{{id}}" class="button">获取!</a>\r\n                {{/if}}\r\n            </div>\r\n            <div class="price">{{#if isBought}}&nbsp;{{else}}{{priceStr}}{{/if}}</div>\r\n        </div>\r\n        {{/each}}\r\n    </div>\r\n    <br style="clear:both;"/>\r\n\r\n\r\n    <table class="timeTravelTable listTable">\r\n        <tr>\r\n            <td colspan="4" class="title">时间旅行</td>\r\n        </tr>\r\n        <tr>\r\n            <td colspan="4" class="description">每个滴答券给予你<b>3个小时</b>收益和研究点数.<br/>您可以在购买后的任何时间使用它们.</td>\r\n        </tr>\r\n        {{#each timeTravelTickets}}\r\n        <tr class="item" data-id="{{id}}">\r\n            <td width="150">{{name}}</td>\r\n            <td width="40">{{priceStr}}</td>\r\n            <td class="comment">{{description}}</td>\r\n            <td width="50"><a href="javascript:void(0);" data-purchaseId="{{id}}" class="button">获取!</a></td>\r\n        </tr>\r\n        {{/each}}\r\n    </table>\r\n\r\n\r\n    <table class="bonusTicksTable listTable">\r\n        <tr>\r\n            <td colspan="4" class="title"><b>滴答奖励</b></td>\r\n        </tr>\r\n        <tr>\r\n            <td colspan="4" class="description">让游戏运行得非常快 - <b>上限200滴答/秒</b><br/>(如果游戏运行在后台模式,滴答运行速度最快 - 未获得焦点)</td>\r\n        </tr>\r\n        {{#each bonusTicks}}\r\n        <tr class="item" data-id="{{id}}">\r\n            <td width="150">{{name}}</td>\r\n            <td width="40">{{priceStr}}</td>\r\n            <td class="comment">{{description}}</td>\r\n            <td width="50"><a href="javascript:void(0);" data-purchaseId="{{id}}" class="button">获取!</a></td>\r\n        </tr>\r\n        {{/each}}\r\n    </table>\r\n    <br style="clear:both"/>\r\n    <br/>\r\n    <span style="font-size:0.9em; color:gray">* 如果你在购买方面有问题,写信给<a href="mailto:factoryidle@inditel.ee" style="color:gray" target="_blank">factoryidle@inditel.ee</a>.请附上您的用户密钥.</span>\r\n</div>',
    help:'<div id="helpBg"></div>\r\n<div id="help">\r\n    <a href="javascript:void(0);" class="closeButton" style="float:right; display:block;">关闭</a>\r\n\r\n    <div class="menu">\r\n        <a href="javascript:void(0);" data-id="gettingStarted">1. 开始游戏</a>\r\n        <a href="javascript:void(0);" data-id="ironProduction">2. 建立铁生产</a>\r\n        <a href="javascript:void(0);" data-id="labProduction">3. 建造实验室</a>\r\n        <a href="javascript:void(0);" data-id="plasticProduction">4. 建立塑料生产</a>\r\n        <a href="javascript:void(0);" data-id="sorter">5. 设置分选机</a>\r\n        <a href="javascript:void(0);" data-id="proTips">6. 进阶提示</a>\r\n        <a href="javascript:void(0);" data-id="faq">7. 常见问题</a><br/>\r\n        <br/>\r\n        <a href="javascript:void(0);" data-id="updates">更新日志</a>\r\n    </div>\r\n\r\n    <div class="section" id="gettingStarted">\r\n        <b class="title">开始游戏</b><br/>\r\n        <img src="img/tutorial/start.png" align="left" style="margin: 3px 6px 3px 0;"/>\r\n        * <span style="color:lightblue; text-decoration:underline">左侧面板包含组件.</span>点击其中一个,然后在地图上点击你想要放置它的地方.<br/><br/>\r\n        * <span style="color:lightblue; text-decoration:underline">使用传送带</span>来连接组件,这样就可以开始生产了. <br/><br/>\r\n        * <span style="color:lightblue; text-decoration:underline">通过点击拖动建造传送带</span>连接两个组件.<br/><br/>\r\n        * <span style="color:lightblue; text-decoration:underline">卖出组件</span>通过从左侧面板选择任意组件并右键单击地图上的组件以卖出.<br/><br/>\r\n        * <span style="color:lightblue; text-decoration:underline">四下拖动地图</span>并将鼠标拖动到组件上查看数据.<br/>\r\n        <br style="clear:both"/>\r\n        <b class="title">按键</b><br/>\r\n        * <u>左键点击</u> - 大多数行动,购买组件等.<br/>\r\n        * <u>右键点击或SHIFT + 左键点击/拖动</u> - 通过从左侧面板选择任意组件并右键单击地图上的组件以卖出.\r\n        (你可以按住鼠标并快速移动来清除整个区域.)<br/>\r\n        * <u>空格键</u> - 切换鼠标到最后选择的组件<br/>\r\n        <br/>\r\n        <b class="title">会发生什么?</b><br/>\r\n        * 随着时间的推移,更多挑战性的游戏玩法!<br/>\r\n        * 由复杂的产品链组成的更大更复杂的工厂.<br/>\r\n        * 当你把事情弄得一团糟时,感到快乐和幸福! :) <br/>\r\n        <br/>\r\n        <b class="title">离线进度?</b><br/>\r\n        在游戏关闭时,你会获得滴答奖励,可以加速游戏运行.<br/>\r\n        <br/>\r\n    </div>\r\n\r\n\r\n    <div class="section" id="ironProduction">\r\n        <b class="title">建立铁生产</b><br/>\r\n        <img src="img/tutorial/iron.png" align="left" style="margin: 3px 6px 3px 0;"/><br/>\r\n        在开始时你可以利用<b class="ironOre">铁矿石</b>生产<b class="iron">铁</b><br/>\r\n        <br/>\r\n        想达到100%效率的布局你需要4个铁矿石购买机,2个铸铁厂和1个铁售卖机. <br/>\r\n        <br/>\r\n        后来随着你研究更多的技术,这些关系会改变.对于每个组件,都有一个图表显示您需要的所有组件的数量.<br/>\r\n        <br/>\r\n        根据你的升级,这些数字可能非常奇怪,然后使用你最好的判断得到最好的布局 :) (就像在其他地方你不需要良好的判断力一样 :p)<br/>\r\n        <br/>\r\n        玩得开心!\r\n        <br style="clear:both"/>\r\n    </div>\r\n\r\n\r\n    <div class="section" id="labProduction">\r\n        <b class="title">建造实验室</b><br/>\r\n        <img src="img/tutorial/lab.png" align="left" style="margin: 3px 6px 3px 0;"/>\r\n        实验室为研究中心提供了巨额加成,所以如果你想研究更先进的新技术,就尽可能多地使用实验室. <br/>\r\n        <br/>\r\n        对你来说,建立一个实验室是一项艰巨的任务.实验室需要许多不同的资源才能有效,但这也使生产链的成本相当高.<br/>\r\n        <br style="clear:both"/>\r\n    </div>\r\n\r\n\r\n    <div class="section" id="plasticProduction">\r\n        <b class="title">建立塑料生产</b><br/>\r\n        <img src="img/tutorial/plastic.png" align="left" style="margin: 3px 6px 3px 0;"/>\r\n        塑料生产稍微复杂一点,因为它也会产生废物. <br/>\r\n        <br/>\r\n        资源从左上角顺时针开始:塑料,废物,塑料,废料等等.利用这些信息,你可以设计你的布局.<br/>\r\n        <br/>\r\n        后面的分类器将帮助废物处理,另外你可以研究清洁生产,将完全消除生产电子元件时的废料.<br/>\r\n        <br style="clear:both"/>\r\n    </div>\r\n\r\n\r\n    <div class="section" id="sorter">\r\n        <b class="title">分选机</b><br/>\r\n        <img src="img/tutorial/sorter2.png" style="margin: 3px 6px 3px 0;"/><br/>\r\n        <img src="img/tutorial/sorter.png" align="left" style="margin: 3px 6px 3px 0;"/><br/>\r\n        * 分选机是一种安全的方法来分类你的生产线上的废料.<br/><br/>\r\n        * 分选机需要配置 - <b>点击分选机</b>并设置哪个出口应该运送垃圾(或者其他资源)<br/><br/>\r\n    </div>\r\n\r\n\r\n    <div class="section" id="proTips">\r\n        <b class="title">进阶提示</b><br/>\r\n        <img src="img/tutorial/orderWithNumbers.png" align="left" style="margin: 3px 6px 3px 0;"/>\r\n        * 输出/输入的顺序和传送带交叉总是<b>顶 -> 右 -> 底 -> 左(顺时针)</b>.这条规则在任何地方都适用. <br/><br/>\r\n        * 您可以构造从/到相同组件的多个输入/输出线.非常有用,如果组件每个滴答产生一个以上的资源.<br/><br/>\r\n        * 在10个滴答中生产20个物品意味着您需要两个输出线来获得100%的效率.<br/><br/>\r\n        <br style="clear:both"/>\r\n\r\n        <img src="img/tutorial/split.png" align="right" style="margin: 3px 6px 3px 0;"/>\r\n        * 分裂输送路径可以用来对资源进行排序,但其吞吐量有限.<br/><br/>\r\n        * 来自同一组件的多个输出也可用于排序,但如果线路满了可能会阻塞.<br/><br/>\r\n        * 你可以直接使用分拣组件,但它也有缺点.<br/><br/>\r\n        <br style="clear:both"/>\r\n    </div>\r\n\r\n    <div class="section" id="faq">\r\n        <b class="title">常见问题</b><br/>\r\n\r\n        <b style="color:lightblue; text-decoration:underline">我发现了一个bug</b><br/>\r\n        * 你可能没有 :) 思考你的设置3次,如果仍然看起来像一个错误,在论坛上寻求解决方案.\r\n        不要忘记，这款游戏的设计难度和挑战性都超过了同类游戏的平均水平.<br/>\r\n        <br/>\r\n\r\n        <b style="color:lightblue; text-decoration:underline">为什么我不能为购买机提供100%的效率呢</b><br/>\r\n        检查一下你是否真的把所有的东西都从购买机里运走了.有时一个出口传送带是不够的.<br/>\r\n        <br/>\r\n\r\n        <b style="color:lightblue; text-decoration:underline">废料&塑料切换顺序</b><br/>\r\n        * 如果其中一行被填满,则会发生这种情况,因此所有资源将被传送到另一个输出线. <br/>\r\n        <br/>\r\n\r\n        <b style="color:lightblue; text-decoration:underline">升级是无用的.</b><br/>\r\n        某些升级在某些时候似乎是无用的 - 那就先别买 - 以后会有用的.明智的做法是考虑哪些升级对你有好处,哪些不是.\r\n        例如,有时一次购买3个升级意味着你不需要改变你的布局.但只购买其中之一意味着你必须重新设计很多. <br/>\r\n        如果你买了一个升级,它会以你不喜欢的方式改变生产,那就卖掉它,一切就重归于好. <br/>\r\n        <br/>\r\n\r\n    </div>\r\n\r\n    <div class="section" id="updates">\r\n        <b class="title">更新日志</b><br/>\r\n\r\n        <div style="height:500px; overflow-y:scroll">\r\n\r\n            <b>V1.07</b><br/>\r\n            Quite a huge update that adds a lot of new content to the game!<br/>\r\n            + New very big factory - Terafactory!<br/>\r\n            + A lot more upgrades... like a lot!<br/>\r\n            + New late game production<br/>\r\n            + New research center with new quite fun to setup production cycle.<br/>\r\n            <br/>\r\n            As balancing late game is quite hard because of different ways how you can setup things - what do you think about the balance of new stuff? Is it too easy/too hard?<br/>\r\n            Let me know at Reddit/Kongregate - what do you think!<br/>\r\n            <br/>\r\n            If anyone wants a challenge - fit research center 4 to first map! That should be quite a challenge to do :)<br/>\r\n            <br/>\r\n\r\n            <b>V1.06</b><br/>\r\n            This is a huge balancing update! I have received a lot of feedback that it is an idle game, but still felt a bit too slow. Well now this update makes the game progress a lot faster!\r\n            Depending on your progress, it can be up to 3x faster<br/>\r\n            * Profits of most sellers increased a bit.<br/>\r\n            * Most research is now折扣 to get.<br/>\r\n            * Lots of more upgrades for late game.<br/>\r\n            * 8x more offline滴答奖励.<br/>\r\n            * Bonus tick purchase amounts doubled.<br/>\r\n            * Fixed text/image errors in help pages.<br/>\r\n            * All updates are now shown in the game help section "Updates"<br/>\r\n            * If clicking load game, it will ask for confirmation<br/>\r\n            <br/>\r\n            Premium version for factoryidle.com<br/>\r\n            Acquired with any new purchase after this release or older non consumable purchases<br/>\r\n            * Uses up whole screen.<br/>\r\n            * No adds if you make a purchase at factoryidle.com<br/>\r\n\r\n            <br/>\r\n            <b>V1.05</b><br/>\r\n            * 金属实验室 and gas&oil lab does not produce waste anymore. Check your builds, as probably you are sending now some stuff to waste.<br/>\r\n            * Late game balancing updates. (diesel sells with much better price, rockets research折扣.)<br/>\r\n            <br/>\r\n\r\n            <b>V1.04</b><br/>\r\n            * background mode delay changed to 15sec. Previously was 2 minutes.<br/>\r\n            * smaller UI fixes<br/>\r\n            * Safari bugfix<br/>\r\n            * Fixed bug with avg calculation that caused it to overshoot often and then stabilizing a bit later to lower value. Special thanks to Tiogshi who actually debugged and pointed this out!\r\n            Wow!<br/>\r\n            <br/>\r\n\r\n            <b>V1.03</b><br/>\r\n            * If output/input of the component is changed, it clears its contents. This makes output order of items “less random” (though it never was random)<br/>\r\n            * button that opens whole map on new tab for screenshot or just for viewing.<br/>\r\n            * Game tells how many output conveyors element should have. Should make planning easier.<br/>\r\n            * new components and lots of new upgrades. Seriously, lots of upgrades added. New final component is rockets.. really, rockets!<br/>\r\n            <br/>\r\n\r\n            <b>V1.02</b><br/>\r\n            * Max stock of all elements except research related is increased by 4 times. Components store maximum of 20 production cycles worth of items, in most cases 200 ticks.<br/>\r\n            * Sorters are 2x more effective, basically one sorter can handle one fully loaded line. This is experimental, let’s see how it works out. It is still more effective to use splits as they\r\n            use less room.<br/>\r\n            * Cursor component will sell if right clicked.<br/>\r\n            * Increased add watching滴答奖励 amount to 1000<br/>\r\n            * When running滴答奖励, it will show actual 滴答/秒 value. As in many cases UI makes it slower, added ticks per sec value to factories view also for longer “bonus ticks” runs.<br/>\r\n            * Fixed not seeing saved games. It happened because session key expired if game was running more than 24 hours straight and after that cloud save didn’t work + you didn’t see your saves.\r\n            It now automatically refreshes session.<br/>\r\n\r\n        </div>\r\n    </div>\r\n\r\n\r\n</div>',
    statistics:'<div class="statisticsBox">\r\n\r\n    <span class="backButton" id="backToReactor">返回工厂</span>\r\n\r\n    费用\r\n    <table>\r\n        <tr>\r\n            <td>组件</td>\r\n            <td>计数</td>\r\n            <td>平均效用</td>\r\n            <td>运行成本</td>\r\n            <td>购买</td>\r\n        </tr>\r\n    </table>\r\n\r\n\r\n    收益\r\n    <table>\r\n        <tr>\r\n            <td>组件</td>\r\n            <td>计数</td>\r\n            <td>平均效用</td>\r\n            <td>销售</td>\r\n        </tr>\r\n    </table>\r\n\r\n    研究\r\n    <table>\r\n        <tr>\r\n            <td>资源</td>\r\n            <td>总计已购</td>\r\n        </tr>\r\n    </table>\r\n\r\n    <div class="graph" style="height:900px;"></div>\r\n\r\n</div>',
    factories:'<div class="headerXX">\r\n    你拥有<span class="money">$<b id="money"></b></span>可以花费.不是很好.\r\n    平均总收入<span class="money">$<b id="income"></b></span>.<br />\r\n    {{#if researchBought}}\r\n    你拥有<span class="research"><b id="researchPoints"></b></span>研究点数.\r\n    平均产出<span class="research"><b id="researchIncome"></b></span>\r\n    {{/if}}\r\n</div>\r\n<div class="helpXX">\r\n    <div style="float:right"><span id="ticks"></span> 滴答/秒</div>\r\n    购买更多的土地来建立更大的帝国.去吧,买点!\r\n</div>\r\n<div id="factorySelection" class="factories">\r\n    {{#each factories}}\r\n    <div class="factoryButton {{design}}" data-id="{{id}}">\r\n        <div class="name">\r\n            {{name}}\r\n        </div>\r\n        <span class="paused">{{#if isPaused}}&lt;&lt; 已暂停 &gt;&gt;{{else}}&nbsp;{{/if}}</span>\r\n        {{#if isBought}}\r\n\r\n        <div class="productionTitle">收益</div>\r\n        <div class="textLine money" data-id="{{id}}" data-key="income">-</div>\r\n        <div class="productionTitle">研究</div>\r\n        <div class="textLine research" data-id="{{id}}" data-key="researchProduction">-</div>\r\n        <div class="button selectButton" data-id="{{id}}">选择</div>\r\n\r\n        {{else}}\r\n\r\n        <div class="productionTitle price">价格</div>\r\n        <div class="textLine money">${{price}}</div>\r\n        <div class="button buyButton" data-id="{{id}}">购买</div>\r\n\r\n        {{/if}}\r\n\r\n    </div>\r\n    {{/each}}\r\n    <div class="missionsButton" id="missionsButton">\r\n        <div class="name">\r\n            挑战\r\n        </div>\r\n        <div class="description">\r\n            使用这些自定义场景测试您的能力.可能导致脑损伤!\r\n        </div>\r\n        <div class="button">开始</div>\r\n    </div>\r\n</div>',
    alert:'<div class="alertBg" id="{{idBg}}"></div>\r\n<div class="alert" id="{{id}}">\r\n    <span class="title">{{title}}</span><br/>\r\n    <span class="message">{{{message}}}</span><br/>\r\n    <span class="button">{{buttonTitle}}</span>\r\n</div>',
    factory:'<table class="factoryBox" width="100%" cellspacing="0" cellpadding="0" border="0">\r\n    <tr>\r\n        <td class="overviewArea" valign="top">\r\n            <div class="overviewContainer"></div>\r\n        </td>\r\n        <td class="topArea" valign="top">\r\n            <div class="topContainer">\r\n                <div class="menuContainer"></div>\r\n                <div class="infoContainer"></div>\r\n                <div class="controlsContainer"></div>\r\n            </div>\r\n        </td>\r\n    </tr>\r\n    <tr>\r\n        <td class="componentsArea" valign="top">\r\n            <div class="componentsContainer"></div>\r\n            <div class="mapToolsContainer"></div>\r\n            <div class="incentivizedAd"></div>\r\n        </td>\r\n        <td class="mapArea" valign="top">\r\n            <div class="mapContainer"></div>\r\n        </td>\r\n    </tr>\r\n</table>\r\n',
    menu:'<div class="menuBox">\r\n    {{#if isMission}}\r\n    <a href="javascript:void(0);" id="missionsButton">挑战</a>\r\n    <a href="javascript:void(0);" id="mainGameButton">工厂</a>\r\n    {{else}}\r\n    <a href="javascript:void(0);" id="factoriesButton">工厂</a>\r\n    {{/if}}\r\n    {{#if hasStatistics}}\r\n    <a href="javascript:void(0);" id="statisticsButton">数据统计</a>\r\n    {{/if}}\r\n    {{#if hasResearch}}\r\n    <a href="javascript:void(0);" id="researchButton">研究</a>\r\n    {{/if}}\r\n    {{#if hasUpgrades}}\r\n    <a href="javascript:void(0);" id="upgradesButton">升级</a>\r\n    {{/if}}\r\n    {{#if hasAchievements}}\r\n    <a href="javascript:void(0);" id="achievementsButton">成就</a>\r\n    {{/if}}\r\n    <a href="javascript:void(0);" id="extraButton">额外</a>\r\n    <a href="javascript:void(0);" id="timeTravelButton">时间旅行</a>\r\n    <a href="javascript:void(0);" id="settingsButton">设置</a>\r\n    <a href="javascript:void(0);" id="helpButton">帮助</a>\r\n</div>',
    tip:'<div class="tip" id="{{id}}">\r\n    {{{content}}}\r\n</div>',
    confirm:'<div class="confirmBg" id="{{idBg}}"></div>\r\n<div class="confirm" id="{{id}}">\r\n    <span class="title">{{title}}</span><br/>\r\n    <span class="message">{{{message}}}</span><br/>\r\n    <span class="cancelButton">{{cancelTitle}}</span>\r\n    <span class="okButton">{{okTitle}}</span>\r\n</div>',
    components:'<div class="componentsBox">\r\n    <div class="title">组件</div>\r\n    <table cellspacing="0" cellpadding="0" border="0">\r\n        {{#each components}}\r\n        <tr>\r\n            {{#each sub}}\r\n            <td>\r\n                <div class="buttonArea">\r\n                    {{#if name}}\r\n                    <div class="button but{{id}} {{#if isNoComponent}}buttonSelected{{/if}}" data-id="{{id}}">\r\n                        <div class="icon" data-id="{{id}}" style="{{style}}"></div>\r\n                    </div>\r\n                    {{/if}}\r\n                </div>\r\n            </td>\r\n            {{/each}}\r\n        </tr>\r\n        {{/each}}\r\n    </table>\r\n    <div style="text-align:center; margin: 10px 0 10px 0;">\r\n        <a href="javascript:void(0);" id="makeScreenShotButton" style="color:white; font-size:0.9em;">显示整个地图</a>\r\n    </div>\r\n</div>',
    info:'<div class="componentControls">\r\n\r\n</div>\r\n<div class="componentInfo">\r\n\r\n</div>',
    infoDetails:'<div class="componentGraph"></div>\r\n\r\n<div class="componentInfoArea">\r\n    <span class="title">{{component.name}}</span><br/>\r\n    {{#if isMeta}}价格: <b class="money">{{component.priceStr}}</b> &nbsp;&nbsp; {{/if}}\r\n    {{#if component.runningCostStr}}花费: <b class="money">{{component.runningCostStr}}</b>{{/if}}\r\n    {{#if component.effectivenessStr}}<span class="effectiveness">效率: <b class="effectiveness">{{component.effectivenessStr}}</b></span>{{/if}}\r\n    <br/>\r\n\r\n    <div class="specialInfo">\r\n        {{#if component.description}}<span class="description">{{component.description}}</span>{{/if}}\r\n\r\n        {{#if component.isBuyer}}\r\n        购买{{{component.buyStr}}} {{#if component.purchasePrice}}需要<b class="money">${{component.purchasePrice}}</b>{{/if}}每\r\n        经过<b>{{component.interval}}</b>滴答并将它送上传送带.\r\n        至少要有<b>{{component.noOfOutputs}}</b>条传送带.<br/>\r\n        {{/if}}\r\n\r\n        {{#if component.isConverter}}\r\n        每经过<b>{{component.interval}}</b>滴答使用{{{component.inputStr}}}来生产\r\n        {{{component.outputStr}}}.\r\n        应该至少拥有<b>{{component.noOfOutputs}}</b>条传送带. <br/>\r\n        {{/if}}\r\n\r\n        {{#if component.isSeller}}\r\n        卖出{{{component.sellStr}}}获得<b class="money">${{component.sellPrice}}</b>每经过<b>{{component.interval}}</b>滴答\r\n        {{#if component.bonusStr}}<br/>加成: {{{component.bonusStr}}}{{/if}}<br/>\r\n        {{/if}}\r\n\r\n        {{#if component.isGarbage}}\r\n        每经过<b>{{component.interval}}</b>滴答移除<b>{{component.removeAmount}}</b>件物品.<br/>\r\n        {{#if isLocation}}\r\n        库存<b>{{component.noOfItems}}</b>/{{component.max}}件物品\r\n        {{/if}}\r\n        {{/if}}\r\n\r\n        {{#if component.isSorter}}\r\n        获取所有元素并将它们分类到不同的出口.\r\n        {{/if}}\r\n\r\n        {{#if component.isResearchCenter}}\r\n        生产<span class="research">{{{component.productionStr}}}</span>每经过<b>{{component.interval}}</b>滴答. <br/>\r\n        生产加成每{{{component.bonusStr}}}<br/>\r\n        {{/if}}\r\n\r\n        {{#if component.isLab}}\r\n        生产<b>{{{component.outputStr}}}</b>每经过<b>{{component.interval}}</b>滴答<br/>\r\n        生产加成每{{{component.bonusStr}}}<br/>\r\n        {{/if}}\r\n\r\n        {{#if component.isTransport}}\r\n        将物品从一个组件传输到另一个组件.可以运送1件物品/滴答.\r\n        {{/if}}\r\n\r\n        {{#if component.stock}}\r\n        <b>库存</b> {{#each component.stock}}\r\n        <span class="{{resourceId}}">{{resourceName}}: </span><b class="{{resource}}">{{amount}}</b>/{{max}}\r\n        {{/each}}\r\n        {{/if}}\r\n\r\n    </div>\r\n</div>\r\n',
    sorter:'{{#each locations}}\r\n{{name}}\r\n<select data-id="{{id}}">\r\n    {{#each resources}}\r\n    <option value="{{id}}">{{name}}</option>\r\n    {{/each}}\r\n</select><br/>\r\n{{/each}}\r\n',
    controls:'<div class="controlsBox">\r\n    <a href="javascript:void(0);" id="clearPackages" class="button clearPackagesButton">清空产线</a>\r\n    <a href="javascript:void(0);" id="resetFactory" class="button resetFactoryButton">重置</a>\r\n    <a href="javascript:void(0);" class="button stopButton" id="stopButton">暂停</a>\r\n    <a href="javascript:void(0);" class="button playButton" id="playButton">开始</a>\r\n    <a href="javascript:void(0);" class="button playFastButton" id="playFastButton">加速 &gt;&gt;</a>\r\n    <a href="javascript:void(0);" class="button playNormalButton" id="playNormalButton">普通</a>\r\n    <div id="bonusTicks" class="bonusTicks">滴答奖励: <span></span></div>\r\n</div>\r\n\r\n\r\n',
    mapTools:'<div class="mapToolsBox">\r\n    <div class="location"></div>\r\n    <div class="title">地图工具</div>\r\n    <div class="help">按ALT键进行绘制</div>\r\n\r\n    <div class="button buttonSelected but" data-id="">无</div>\r\n    {{#each tools}}\r\n    {{#if showBreak}}\r\n    <br style="clear:both"/>\r\n    {{/if}}\r\n    <div class="button but{{id}}" data-id="{{id}}">\r\n        <div class="mapTool {{id}}" data-id="{{id}}">{{name}}</div>\r\n    </div>\r\n    {{/each}}\r\n    <br style="clear:both"/>\r\n    <br/>\r\n\r\n    <div class="title">地图数据</div>\r\n    <textArea id="mapData"></textArea><br/>\r\n</div>',
    overview:'<div class="overviewBox">\r\n    <span class="miniText">金钱:</span> <span class="money">$<b id="money"></b></span><br/>\r\n    <span class="miniText">收益:</span> <span class="money smallText">$<span id="income"></span></span><span class="smallText">/滴答(平均)</span><br/>\r\n    <br/>\r\n    {{#if researchBought}}\r\n    <span class="miniText">研究:</span> <span class="research smallText"><span id="research"></span></span><br/>\r\n    <span class="miniText">收益:</span> <span class="research smallText"><span id="researchIncome"></span></span><span class="smallText">/滴答(平均)</span><br/>\r\n    {{/if}}\r\n    <span class="miniText ticks"><span id="ticks"></span> 滴答/秒</span><br/>\r\n</div>',
    incentivizedAd:'<div class="incentivizedAdBox">\r\n    <div class="button {{#if isAvailable}}available{{/if}}">\r\n        {{#if isAvailable}}\r\n        {{message}}\r\n        {{else}}\r\n      \r\n        {{/if}}\r\n    </div>\r\n</div>',
    research:'<div class="researchBox">\r\n\r\n    <span class="backButton" id="backToReactor">返回工厂</span>\r\n\r\n    <div class="header">\r\n        你拥有<b id="researchPoints" class="research">????</b>研究点数和\r\n        <b class="money">$<span id="money"></span></b>.谨慎使用!\r\n        你已经研究了<b>{{have}}/{{max}}</b>项科技.<br/>\r\n        <span class="miniText">研究适用于每个工厂.</span>\r\n    </div>\r\n    <br/>\r\n    {{#each research}}\r\n    {{#if changeGroup}}\r\n    <br style="clear:left"/><br/>\r\n    {{/if}}\r\n    <div class="researchItem" data-id="{{id}}">\r\n\r\n        <div class="icon">\r\n            <div class="iconSelf" style="{{iconStyle}}"></div>\r\n        </div>\r\n        <div class="buyButton" data-id="{{id}}">购买</div>\r\n\r\n        {{name}}\r\n        {{#if showBoughtAndMax}}\r\n        <span class="bought"></span>/{{max}}\r\n        {{/if}}\r\n        &nbsp;&nbsp;&nbsp;&nbsp;\r\n        {{#if price}}\r\n        <span class="priceTitle">价格:</span><span class="money">{{price}}</span>\r\n        {{/if}}\r\n        {{#if priceResearchPoints}}\r\n        <span class="priceTitle">研究:</span><span class="research">{{priceResearchPoints}}</span>\r\n        {{/if}}\r\n        <br/>\r\n\r\n        <div class="description">\r\n            {{description}}\r\n        </div>\r\n\r\n    </div>\r\n    {{/each}}\r\n\r\n</div>\r\n',
    upgrades:'<div class="upgradesBox">\r\n\r\n    <span class="backButton" id="backToReactor">返回工厂</span>\r\n\r\n    <div class="header">\r\n        你拥有<b class="money">$<span id="money"></span></b>可以花费.精准计算!<br/>\r\n        <span class="miniText">升级只适用于此区域.</span>\r\n    </div>\r\n    <br/>\r\n    {{#each groups}}\r\n    {{#if isBreak}}\r\n    <br style="clear:both"/>\r\n    {{else}}\r\n    <div class="upgradeGroup">\r\n        <div class="head">\r\n            <div class="buildingIcon">\r\n                <div class="buildingIconSelf" style="{{iconStyle}}"></div>\r\n            </div>\r\n            <div class="text">{{name}}</div>\r\n\r\n            {{#each upgrades}}\r\n            {{#if isSeparator}}\r\n            <div style="width:10px; height:10px; float:right;"></div>\r\n            {{else}}\r\n            <div class="upgradeItem upgradeItem_{{action}}" data-id="{{id}}" data-action="{{action}}">\r\n                <div class="upgradeIcon" style="{{iconStyle}}"></div>\r\n\r\n\r\n                <div class="upgradePopup smallText">\r\n\r\n\r\n                    <b>{{title}}</b> {{#if isSell}}(<u>卖出</u>){{/if}}<br/>\r\n                    <span>已购买: </span><b class="bought green"></b>{{#if max}}<b class="red">/{{max}}</b>{{/if}}<br/>\r\n\r\n                    {{#if isBuy}}\r\n                    {{#if isMaxed}}\r\n                    <b class="red">上限!</b><br/>\r\n                    {{else}}\r\n                    <span class="priceTitle">购买需要:</span><b class="money">${{buyPrice}}</b><br/>\r\n                    {{/if}}\r\n                    <br/>\r\n                    {{{description}}}\r\n                    {{/if}}\r\n\r\n                    {{#if isSell}}\r\n                    {{#if canSell}}\r\n                    <span class="priceTitle">卖出获得:</span><b class="money">${{sellPrice}}</b> <span class="miniText">(折价{{refund}})</span><br/>\r\n                    {{else}}\r\n                    <b class="red">你没有买过,卖不了</b><br/>\r\n                    {{/if}}\r\n                    {{/if}}\r\n\r\n                </div>\r\n            </div>\r\n            {{/if}}\r\n            {{/each}}\r\n\r\n        </div>\r\n\r\n    </div>\r\n    {{/if}}\r\n    {{/each}}\r\n\r\n</div>',
    achievements:'<div class="achievementsBox">\r\n\r\n    <span class="backButton" id="backToReactor">返回工厂</span>\r\n\r\n    <br/>\r\n    {{#each achievements}}\r\n    {{#if changeGroup}}\r\n    <br style="clear:left"/><br/>\r\n    {{/if}}\r\n    <div class="item" data-id="{{id}}">\r\n\r\n        <div class="icon {{icon}}" style="float:left;"></div>\r\n        <div class="bonus">{{{bonus}}}</div>\r\n        <div class="name">\r\n            {{name}}\r\n        </div>\r\n        <br/>\r\n\r\n        <div class="requirements">\r\n            {{{requirements}}}\r\n        </div>\r\n\r\n    </div>\r\n    {{/each}}\r\n\r\n</div>',
    achievementPopup:'<div class="achievementPopup" id="{{idStr}}">\r\n    <span class="name">{{name}}</span>\r\n    <span class="bonus">{{{bonus}}}</span>\r\n    <br/>\r\n    <span class="requirements">{{{requirement}}}</span>\r\n</div>',
    
}